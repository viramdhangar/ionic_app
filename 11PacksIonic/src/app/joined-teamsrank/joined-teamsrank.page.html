<ion-header>
  <ion-toolbar color="tertiary">
    <ion-buttons slot="start">
      <ion-back-button routerLink="/myjoinedleagues/{{uniqueNumber}}/{{matchId}}/{{matchStatus}}"></ion-back-button>
    </ion-buttons>
    <ion-title style="font-size: 80%;">{{match.team1Name}} vs
      {{match.team2Name}}</ion-title>
  </ion-toolbar>
  <ion-toolbar color="grey" style="text-align:center">
    <ion-title *ngIf="match.days !== 0 && matchStatus == 'UPCOMING'"
      style="display: flex; align-items: left; justify-content: left; font-size: 80%; color:green">
      {{match.days}}d {{match.hours!}}h {{match.minutes}}m {{match.seconds}}s
    </ion-title>
    <ion-title *ngIf="match.days == 0 && matchStatus == 'UPCOMING'"
      style="display: flex; align-items: left; justify-content: left; font-size: 80%; color:green">
      {{match.hours!}}h {{match.minutes}}m {{match.seconds}}s
    </ion-title>
    <ion-title *ngIf="matchStatus == 'LIVE'"
      style="display: flex; align-items: left; justify-content: left; font-size: 70%; color:green">
      LIVE LEAGUE
    </ion-title>
    <ion-title *ngIf="matchStatus == 'COMPLETED'"
      style="display: flex; align-items: left; justify-content: left; font-size: 70%; color:green">
      COMPLETED LEAGUE
    </ion-title>
    <ion-title *ngIf="matchStatus == 'UPCOMING'"
      style="display: flex; align-items: left; justify-content: left; font-size: 70%; color:blue">
      UPCOMING LEAGUE
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-refresher #refresherRef slot="fixed" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content pullingIcon="arrow-dropdown" pullingText="Pull to refresh" refreshingSpinner="circles"
      refreshingText="Refreshing...">
    </ion-refresher-content>
  </ion-refresher>

  <ion-card style="border-radius: 10px;">
    <ion-grid>
      <ion-row>
        <ion-col style="text-align:left; padding-top: 1%">
          <font color="grey" size="2%">Group Prize</font><br />
          <font color="green" size="4%"><b>&#8377; {{league.winningAmount}}</b></font>
        </ion-col>
        <!--<ion-col *ngIf="matchStatus !== 'LIVE' && matchStatus !== 'COMPLETED'"
          style="text-align:right; padding-top: 0%">
          <ion-button shape="round" size="small" color="tertiary"
            routerLink="/switchteam/{{uniqueNumber}}/{{matchId}}/{{leagueId}}/{{matchStatus}}">SWITCH</ion-button>
        </ion-col>-->
      </ion-row>
      <!--<progress-bar [progress]="loadProgress"></progress-bar>-->

      <div
        style="margin: 5px 1%;width: 96%;padding: 0px;text-align: center;background-color: #f4f4f4;border: #fff;border-radius: 10px;">
        <div
          style="min-width: 15%;height: 3px;white-space: nowrap;overflow: hidden;padding: 0px;border-radius: 10px;background-color: purple;"
          *ngIf="league.progress !==0" [style.width]="league.progress + '%'">
          {{league.progress}}%
        </div>
      </div>

      <ion-row>
        <ion-col style="text-align:left; padding-top: 1%; font-size: 80%">
          <font color="grey" size="1%">size</font><br />
          <b>{{league.joinedTeam}}/{{league.size}}</b>
        </ion-col>
        <ion-col style="text-align:center; padding-top: 1%; font-size: 80%; color: green">
          <font color="grey" size="1%">Entry</font><br />
          <b>&#8377; {{league.entryFee}}</b>
        </ion-col>
        <ion-col style="text-align:center; padding-top: 1%; font-size: 80%">
          <font color="grey" size="1%">WINNERS</font><br />
          <a (click)="presentModal(league.breakupId)"><b>{{league.winners}}</b></a>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-card>

  <!--<ion-grid>
    <ion-row>
      <ion-col style="display: flex; justify-content: left;"><b><i>{{league.league}}</i></b></ion-col>
      <ion-col style="display: flex; font-size: 12px; justify-content: center; color:green; border-radius: 20px;">
        <ion-row>
          <ion-col style="font-size:medium">WIN:</ion-col>
          <ion-col style="font-size:medium"><b>&#x20b9;{{league.winningAmount}}</b></ion-col>
        </ion-row>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col *ngIf="league.winners == 1" style="color:blue">Single Winner</ion-col>
      <ion-col *ngIf="league.winners !== 1" style="color:blue">{{league.winners}} Winner's</ion-col>
      <ion-col></ion-col>
      <ion-col *ngIf="matchStatus !== 'LIVE'">
        <ion-button style="width: 80%;height: 80%;" expand="block" color="secondary"
          routerLink="/switchteam/{{uniqueNumber}}/{{matchId}}/{{leagueId}}">Switch Team</ion-button>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col style="display: flex; align-items: center; font-size: 12px; justify-content: left;">
        <ion-row>
          <ion-col>SIZE</ion-col>
          <ion-col>{{league.joinedTeam}}/{{league.size}}</ion-col>
        </ion-row>
      </ion-col>
      <ion-col
        style="display: flex; font-size: 80%; color:white; align-items: center; justify-content: center; background:rgb(88, 165, 25); border-radius: 20px;">
        <ion-row>ENTRY FEES &#x20b9; {{league.entryFee}}</ion-row>
      </ion-col>
    </ion-row>
  </ion-grid>-->
  <div *ngFor="let team of joinedTeams">
    <ion-list *ngIf="matchStatus == 'LIVE' || matchStatus == 'COMPLETED'">
      <ion-item routerLink="/teamView/{{uniqueNumber}}/{{matchId}}/{{team.teamId}}/{{league.id}}/{{matchStatus}}">
        <ion-label style="text-align: left; font-size: 12px">
          <font color="grey" size="1%">POS</font><br />
          <b>{{team.teamRank}}</b>
        </ion-label>
        <ion-label style="text-align: center; font-size: 12px">
          <font color="grey" size="1%">USER</font><br />
          <b>{{team.createdId}}({{team.teamName}})</b>
        </ion-label>
        <ion-label style="text-align: right; font-size: 12px">
          <font color="grey" size="1%">POINTS</font><br />
          <b *ngIf="team.winningAmount !== null" style="color: green; text-align: right">
            <ion-icon name="trophy" color="success"></ion-icon>
            &#x20b9; {{team.winningAmount}} &nbsp;&nbsp;&nbsp;
          </b><b>{{team.points}}</b>
        </ion-label>
      </ion-item>
    </ion-list>
    <ion-list *ngIf="matchStatus !== 'LIVE' && matchStatus !== 'COMPLETED'">
      <ion-item *ngIf="team.createdId == uniqueNumber"
        routerLink="/teamView/{{uniqueNumber}}/{{matchId}}/{{team.teamId}}/{{league.id}}/{{matchStatus}}">
        <ion-label style="text-align: left; font-size: 12px">
          <font color="grey" size="1%">POS</font><br />
          <b>{{team.teamRank}}</b>
        </ion-label>
        <ion-label style="text-align: center; font-size: 12px">
          <font color="grey" size="1%">USER</font><br />
          <b>{{team.createdId}}({{team.teamName}})</b>
        </ion-label>
        <ion-label style="text-align: right; font-size: 12px">
          <font color="grey" size="1%">POINTS</font><br />
          <b>{{team.points}}</b>
        </ion-label>
      </ion-item>
      <ion-item *ngIf="team.createdId != uniqueNumber">
        <ion-label style="text-align: left; font-size: 12px">
          <font color="grey" size="1%">POS</font><br />
          <b>{{team.teamRank}}</b>
        </ion-label>
        <ion-label style="text-align: center; font-size: 12px">
          <font color="grey" size="1%">USER</font><br />
          <b>{{team.createdId}}({{team.teamName}})</b>
        </ion-label>
        <ion-label style="text-align: right; font-size: 12px">
          <font color="grey" size="1%">POINTS</font><br />
          <b>{{team.points}}</b>
        </ion-label>
      </ion-item>
    </ion-list>
  </div>
  <!--  <ion-card style="border-radius: 15px;" *ngFor="let team of joinedTeams">
    <ion-grid *ngIf="matchStatus == 'LIVE' || matchStatus == 'COMPLETED'">
      <ion-row routerLink="/teamView/{{uniqueNumber}}/{{matchId}}/{{team.teamId}}/{{matchStatus}}">
        <ion-col style="display: flex; font-size: 12px; justify-content: left;">
          <div>
            <p style="font-size: 8px">POS</p>
            <p stype="font-size: 10px;"><b>{{team.teamRank}}</b></p>
          </div>
        </ion-col>
        <ion-col style="display: flex; font-size: 12px; justify-content: center;">
          <div>
            <p style="font-size: 8px">USER</p>
            <p stype="font-size: 10px;"><b>{{team.createdId}}({{team.teamName}})</b></p>
          </div>
        </ion-col>
        <ion-col style="display: flex; font-size: 12px; justify-content: center;">
          <div>
            <p style="font-size: 8px">POINTS</p>
            <p stype="font-size: 10px;"><b>{{team.points}}</b></p>
          </div>
        </ion-col>
        <ion-col *ngIf="team.winningAmount !== null" style="display: flex; font-size: 12px; justify-content: center; background: rgb(33, 201, 33); color: white; border-radius: 30px;">
          <div>
            <p style="font-size: 8px"><b>WON</b></p>
            <p stype="font-size: 10px;"><b>&#x20b9; {{team.winningAmount}}</b></p>
          </div>
        </ion-col>
      </ion-row>
    </ion-grid>
    <ion-grid *ngIf="matchStatus !== 'LIVE' && matchStatus !== 'COMPLETED'">
      <ion-row>
        <ion-col style="display: flex; font-size: 12px; justify-content: left;">
          <div>
            <p style="font-size: 8px">POS</p>
            <p stype="font-size: 10px;"><b>{{team.teamRank}}</b></p>
          </div>
        </ion-col>
        <ion-col style="display: flex; font-size: 12px; justify-content: center;">
          <div>
            <p style="font-size: 8px">USER</p>
            <p stype="font-size: 10px;"><b>{{team.createdId}}({{team.teamName}})</b></p>
          </div>
        </ion-col>
        <ion-col style="display: flex; font-size: 12px; justify-content: center;">
          <div>
            <p style="font-size: 8px">POINTS</p>
            <p stype="font-size: 10px;"><b>{{team.points}}</b></p>
          </div>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-card>-->
</ion-content>

<ion-footer>
  <ion-toolbar>
    <ion-buttons>
      <ion-button routerLink="/tabs/tabs/matches">
        <ion-icon name="home"></ion-icon>Matches
      </ion-button>
      <ion-button routerLink="/tabs/tabs/matches">
        <ion-icon name="trophy"></ion-icon>Joined Matches
      </ion-button>
      <ion-button routerLink="/tabs/tabs/matches">More</ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-footer>